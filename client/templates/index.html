<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>

                $(function () {
                    var formData = new FormData();
                    formData.append("file", $(".file")[0].files[0]);
                    var progressBar = document.getElementById('prog');
                    var progressValue = document.getElementById('pv');
                    $.ajax({
                        url: 'アップロード用のAPI等を指定',
                        type: 'POST',
                        processData: false,
                        contentType: false,
                        async: true,
                        data: formData,
                        xhr : function(){
                            XHR = $.ajaxSettings.xhr();
                            if(XHR.upload){
                                XHR.upload.addEventListener('progress',function(e){
                                    var progVal = parseInt(e.loaded/e.total*10000)/100 ;
                                    progressBar.value = progVal;
                                    progressValue.innerHTML = progVal + '%';

                                }, false);
                            }
                            return XHR;
                        },
                        success: function (data) {
                            console.log(data);
                            $('.message').append('success\n');
                        },
                        error: function () {
                            $('.message').append('failure\n')
                        }
                    });
                });
    </script>
</head>
<body>
    <form action="/file" method="POST" name="my_form" enctype="multipart/form-data">
        <input type="file" id="file" name="file"><button type="submit" class="upload" value="upload">submit</button>
        <progress value="0" id="prog" max=100></progress>(<span id="pv" style="color:#00b200">0%</span>)
        
        <div class="message"></div>
    </form>
</body>
</html>